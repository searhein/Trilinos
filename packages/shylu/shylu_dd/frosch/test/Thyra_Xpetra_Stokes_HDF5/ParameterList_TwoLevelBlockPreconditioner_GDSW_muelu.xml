<ParameterList name="Thyra Example">
    <Parameter name="Linear Solver Type" type="string" value="Belos"/>
    <ParameterList name="Linear Solver Types">
        <ParameterList name="Belos">
            <Parameter name="Solver Type" type="string" value="Block GMRES"/>
            <ParameterList name="Solver Types">
                <ParameterList name="Block GMRES">
                    <Parameter name="PreconditionerPosition" type="string" value="left"/>
                    <Parameter name="Block Size" type="int" value="1"/>
                    <Parameter name="Convergence Tolerance" type="double" value="1e-4"/>
                    <Parameter name="Maximum Iterations" type="int" value="100"/>
                    <Parameter name="Output Frequency" type="int" value="1"/>
                    <Parameter name="Show Maximum Residual Norm Only" type="bool" value="1"/>
                </ParameterList>
            </ParameterList>
        </ParameterList>
    </ParameterList>
    <Parameter name="Preconditioner Type" type="string" value="FROSch"/>
    <ParameterList name="Preconditioner Types">
        <ParameterList name="FROSch">
            <Parameter name="FROSch Preconditioner Type"                        type="string"   value="TwoLevelBlockPreconditioner"/>
            
            <Parameter name="OverlappingOperator Type"                          type="string"   value="AlgebraicOverlappingOperator"/>
            <Parameter name="CoarseOperator Type"                               type="string"   value="GDSWCoarseOperator"/>
            <Parameter name="Null Space Type"                                   type="string"   value="SPP"/>
            
            <ParameterList name="AlgebraicOverlappingOperator">
                <ParameterList name="Solver">
                    <Parameter name="SolverType"                                type="string"   value="Amesos2"/>
                    <Parameter name="Solver"                                    type="string"   value="Klu"/>
                </ParameterList>
            </ParameterList>
            
            <ParameterList name="GDSWCoarseOperator">
                <ParameterList name="Blocks">
                    <ParameterList name="1">
                        <Parameter name="Use For Coarse Space"                  type="bool"     value="true"/>
                        <Parameter name="Rotations"                             type="bool"     value="true"/>
                        <ParameterList name="Custom">
                            <Parameter name="Vertices: translations"            type="bool"     value="true"/>
                            <Parameter name="ShortEdges: translations"          type="bool"     value="true"/>
                            <Parameter name="ShortEdges: rotations"             type="bool"     value="true"/>
                            <Parameter name="StraightEdges: translations"       type="bool"     value="true"/>
                            <Parameter name="StraightEdges: rotations"          type="bool"     value="true"/>
                            <Parameter name="Edges: translations"               type="bool"     value="true"/>
                            <Parameter name="Edges: rotations"                  type="bool"     value="true"/>
                            <Parameter name="Faces: translations"               type="bool"     value="true"/>
                            <Parameter name="Faces: rotations"                  type="bool"     value="true"/>
                        </ParameterList>
                    </ParameterList>
                    <ParameterList name="2">
                        <Parameter name="Use For Coarse Space"                  type="bool"     value="true"/>
                        <Parameter name="Rotations"                             type="bool"     value="true"/>
                        <ParameterList name="Custom">
                            <Parameter name="Vertices: translations"            type="bool"     value="true"/>
                            <Parameter name="ShortEdges: translations"          type="bool"     value="true"/>
                            <Parameter name="ShortEdges: rotations"             type="bool"     value="true"/>
                            <Parameter name="StraightEdges: translations"       type="bool"     value="true"/>
                            <Parameter name="StraightEdges: rotations"          type="bool"     value="true"/>
                            <Parameter name="Edges: translations"               type="bool"     value="true"/>
                            <Parameter name="Edges: rotations"                  type="bool"     value="true"/>
                            <Parameter name="Faces: translations"               type="bool"     value="true"/>
                            <Parameter name="Faces: rotations"                  type="bool"     value="true"/>
                        </ParameterList>
                    </ParameterList>
                    <ParameterList name="3">
                        <Parameter name="Use For Coarse Space"                  type="bool"     value="true"/>
                        <Parameter name="Rotations"                             type="bool"     value="true"/>
                        <ParameterList name="Custom">
                            <Parameter name="Vertices: translations"            type="bool"     value="true"/>
                            <Parameter name="ShortEdges: translations"          type="bool"     value="true"/>
                            <Parameter name="ShortEdges: rotations"             type="bool"     value="true"/>
                            <Parameter name="StraightEdges: translations"       type="bool"     value="true"/>
                            <Parameter name="StraightEdges: rotations"          type="bool"     value="true"/>
                            <Parameter name="Edges: translations"               type="bool"     value="true"/>
                            <Parameter name="Edges: rotations"                  type="bool"     value="true"/>
                            <Parameter name="Faces: translations"               type="bool"     value="true"/>
                            <Parameter name="Faces: rotations"                  type="bool"     value="true"/>
                        </ParameterList>
                    </ParameterList>
                </ParameterList>
                
                <ParameterList name="ExtensionSolver">
                    <Parameter name="SolverType"                                type="string"   value="Amesos2"/>
                    <Parameter name="Solver"                                    type="string"   value="Klu"/>
                </ParameterList>
                
                <ParameterList name="Distribution">
                    <Parameter name="Type"                                      type="string"   value="linear"/>
                    <Parameter name="GatheringSteps"                            type="int"      value="1"/>
                    <Parameter name="NumProcs"                                  type="int"      value="1"/>
                    <Parameter name="Factor"                                    type="double"   value="1.0"/>
                </ParameterList>
                
                <ParameterList name="CoarseSolver">
                    <Parameter name="SolverType"                                type="string"   value="MueLu"/>
                    <!--<Parameter name="Solver"                                    type="string"   value="Klu"/>-->
                    <ParameterList name="MueLu">
                      <Parameter name="mgridSweeps"                             type="int"      value="3"/>
                      <Parameter name="tol"                                     type="double"   value="1.0e-6"/>
                      <Parameter name="NullSpace"                               type="string"   value="SPP"/>
                      <Parameter name="Dimension"                               type="int"      value="2"/>
                      
                      <ParameterList name="MueLu Parameter">
                        
                        <ParameterList name="Factories">
                        
	                        <!-- sub block factories -->
	                        <!-- BLOCK 1 (for submatrix A_{00}) -->
													<ParameterList name="mySubBlockAFactory1">
													  <Parameter name="factory" type="string" value="SubBlockAFactory"/>
													  <Parameter name="block row" type="int" value="0"/>
	                          <Parameter name="block col" type="int" value="0"/>
	                          <Parameter name="Range map: Striding info" type="string" value="{ 2 }"/>
	                          <Parameter name="Domain map: Striding info" type="string" value="{ 2 }"/>
	                        </ParameterList>
	
													<ParameterList name="myAggFact1">
													 <Parameter name="factory" type="string" value="UncoupledAggregationFactory"/>
													 <Parameter name="aggregation: min agg size" type="int" value="5"/>
													 <Parameter name="aggregation: max selected neighbors" type="int" value="1"/>
													</ParameterList>
													
													<!-- tell the tentative prolongator that we have 2 DOFs per node on the coarse levels -->
													<ParameterList name="myCoarseMap1">
													  <Parameter name="factory" type="string" value="CoarseMapFactory"/>
													  <Parameter name="Striding info" type="string" value="{ 2 }"/>
													  <Parameter name="Strided block id" type="int" value="-1"/>
													</ParameterList>
													
													<ParameterList name="myTentativePFact1">
													  <Parameter name="factory" type="string" value="TentativePFactory"/>
													  <Parameter name="A" type="string" value="mySubBlockAFactory1"/>
													  <Parameter name="Aggregates" type="string" value="myAggFact1"/>
													  <Parameter name="CoarseMap" type="string" value="myCoarseMap1"/>
													</ParameterList>
													
													<!-- We have to use Nullspace1 here. If "Nullspace1" is not set the
													Factory creates the default null space containing of constant
													vectors -->
													<ParameterList name="myNspFact1">
													  <Parameter name="factory" type="string" value="NullspaceFactory"/>
													  <Parameter name="Fine level nullspace" type="string" value="Nullspace1"/>
													  <Parameter name="Nullspace1" type="string" value="myTentativePFact1"/>
													</ParameterList>
													
													<!-- BLOCK 2 (for submatrix A_{11}) -->
                          <ParameterList name="mySubBlockAFactory2">
                            <Parameter name="factory" type="string" value="SubBlockAFactory"/>
                            <Parameter name="block row" type="int" value="0"/>
                            <Parameter name="block col" type="int" value="0"/>
                            <Parameter name="Range map: Striding info" type="string" value="{ 1 }"/>
                            <Parameter name="Domain map: Striding info" type="string" value="{ 1 }"/>
                          </ParameterList>
                          
                          <!-- tell the tentative prolongator that we have 1 DOF per node on the coarse levels -->
                          <ParameterList name="myCoarseMap2">
                            <Parameter name="factory" type="string" value="CoarseMapFactory"/>
                            <Parameter name="Striding info" type="string" value="{ 1 }"/>
                            <Parameter name="Strided block id" type="int" value="-1"/>
                          </ParameterList>
                          
                          <ParameterList name="myTentativePFact2">
                            <Parameter name="factory" type="string" value="TentativePFactory"/>
                            <Parameter name="A" type="string" value="mySubBlockAFactory2"/>
                            <Parameter name="Aggregates" type="string" value="myAggFact1"/>
                            <Parameter name="CoarseMap" type="string" value="myCoarseMap2"/>
                          </ParameterList>
                          
                          <ParameterList name="myNspFact2">
                            <Parameter name="factory" type="string" value="NullspaceFactory"/>
                            <Parameter name="Fine level nullspace" type="string" value="Nullspace2"/>
                            <Parameter name="Nullspace1" type="string" value="myTentativePFact2"/>
                          </ParameterList>
													
													<!-- Define a group of factories for each block -->
													
													<!-- Multigrid setup for velocity block (A_{00}) -->
	                        <ParameterList name="myFirstGroup">
														<Parameter name="group" type="string" value="FactoryManager"/>
														<Parameter name="A" type="string" value="mySubBlockAFactory1"/>
														<Parameter name="P" type="string" value="myTentativePFact1"/>
														<Parameter name="Aggregates" type="string" value="myAggFact1"/>
														<Parameter name="Nullspace" type="string" value="myNspFact1"/>
														<Parameter name="CoarseMap" type="string" value="myCoarseMap1"/>
													</ParameterList>
													
													<!-- Multigrid setup for pressure block (A_{11}) -->
													<ParameterList name="mySecondGroup">
														<Parameter name="group" type="string" value="FactoryManager"/>
														<Parameter name="A" type="string" value="mySubBlockAFactory2"/>
														<Parameter name="P" type="string" value="myTentativePFact2"/>
														<!-- reuse aggs from velocity block! -->
														<Parameter name="Aggregates" type="string" value="myAggFact1"/>
														<Parameter name="Nullspace" type="string" value="myNspFact2"/>
														<Parameter name="CoarseMap" type="string" value="myCoarseMap2"/>
													</ParameterList>
													
													<!-- define block prolongation operator using above blocks -->
													<ParameterList name="myBlockedPFact">
													  <Parameter name="factory" type="string" value="BlockedPFactory"/>
                            <!-- factory manager for block 1 -->
													  <ParameterList name="block1">
													    <Parameter name="group" type="string" value="myFirstGroup"/>
													  </ParameterList>
													  <!-- factory manager for block 2 -->
													  <ParameterList name="block2">
													    <Parameter name="group" type="string" value="mySecondGroup"/>
													  </ParameterList>
													</ParameterList>
													
													<!-- define block restriction operator using above blocks -->
													<!-- The block restriction operator is usually always of type
													GenericRFactory since we want to be able to combine, e.g.,
													SmoothedAggregation for block A_{00} with e.g. tentative
													prolongation for block A_{11} (or any other kind of transfer
													strategy for the subblocks -->
													<ParameterList name="myBlockedRFact">
													  <Parameter name="factory" type="string" value="GenericRFactory"/>
													  <Parameter name="P" type="string" value="myBlockedPFact"/>
													</ParameterList>
													
													<ParameterList name="myBlockedRAPFact">
														<Parameter name="factory" type="string" value="BlockedRAPFactory"/>
														<Parameter name="P" type="string" value="myBlockedPFact"/>
														<Parameter name="R" type="string" value="myBlockedRFact"/>
													</ParameterList>
													
													<!-- block smoother for block A_{00} -->
													<ParameterList name="mySmooFact1">
														<Parameter name="factory" type="string" value="TrilinosSmoother"/>
														<Parameter name="type" type="string" value="RELAXATION"/>
														<ParameterList name="ParameterList">
															<Parameter name="relaxation: type" type="string" value="Symmetric Gauss-Seidel"/>
															<Parameter name="relaxation: sweeps" type="int" value="3"/>
															<Parameter name="relaxation: damping factor" type="double" value="0.8"/>
														</ParameterList>
													<Parameter name="A" type="string" value="mySubBlockAFactory1"/>
													</ParameterList>
													
													<!-- Build Schur Complement factory (for being used in SIMPLE type block smoother) -->
													<ParameterList name="mySchurCompFact">
													  <Parameter name="factory" type="string" value="SchurComplementFactory"/>
													  <Parameter name="omega" type="double" value="0.8"/>
													  <Parameter name="lumping" type="bool" value="false"/>
													</ParameterList>
																										
													<!-- block smoother for block A_{11} respective the Schur complement operator -->
													<ParameterList name="mySchurSmooFact">
														<Parameter name="factory" type="string" value="TrilinosSmoother"/>
														<Parameter name="type" type="string" value="RELAXATION"/>
														<ParameterList name="ParameterList">
															<Parameter name="relaxation: type" type="string" value="Symmetric Gauss-Seidel"/>
															<Parameter name="relaxation: sweeps" type="int" value="1"/>
															<Parameter name="relaxation: damping factor" type="double" value="0.7"/>
													  </ParameterList>
														<!-- You don’t have to specify the input matrix A for the smoother -->
														<!-- It is clear from the subblocks in the BlockedSmoother below -->
														<!--<Parameter name="A" type="string" value="mySchurCompFact"/>-->
													</ParameterList>
													
													<!-- Use SIMPLE: -->
													<!-- User has to define two blocks with each containing a smoother for
													the corresponding sub-block matrix (see above) -->
													<ParameterList name="myBlockSmoother">
														<Parameter name="factory" type="string" value="SimpleSmoother"/>
														<Parameter name="Sweeps" type="int" value="1"/>
														<Parameter name="Damping factor" type="double" value="1.0"/>
														<Parameter name="UseSIMPLEC" type="bool" value="false"/>
													
														<!-- factory manager for block 1 -->
														<ParameterList name="block1">
														  <!-- <Parameter name="group" type="string" value="myFirstGroup"/> -->
														  <!-- It’s enough to just provide the sub block matrix A_{00} needed
														  as input for the smoother "mySmooFact1" as well as the smoother
														  itself. Alternatively, one could add below strings to the
														  factory group "myFirstGroup" and use it here instead of below lines -->
														  <Parameter name="A" type="string" value="mySubBlockAFactory1"/>
														  <Parameter name="Smoother" type="string" value="mySmooFact1"/>
													  </ParameterList>
													
														<!-- factory manager for block 2 -->
													  <ParameterList name="block2">
														  <!-- The second equation in the SIMPLE smoother is the Schur complement
														  equation that has to be solved. Therefore, provide the Schur complement
														  operator together with the smoother. The smoother object takes the
														  Schur complement operator as operator "A" for the internal smoothing process. -->
														  <Parameter name="A" type="string" value="mySchurCompFact"/>
														  <Parameter name="Smoother" type="string" value="mySchurSmooFact"/>
													  </ParameterList>
													</ParameterList>
													
													<ParameterList name="myBlockDirectSolver">
														<Parameter name="factory" type="string" value="BlockedDirectSolver"/>
                          </ParameterList>
													
													
                        </ParameterList> <!--  End of Factories -->
                        
                        <ParameterList name="Hierarchy">
												  <Parameter name="max levels" type="int" value="2"/>
													<Parameter name="coarse: max size" type="int" value="10"/>
													<Parameter name="verbosity" type="string" value="High"/>
													
													<ParameterList name="AllLevel">
													  <Parameter name="startLevel" type="int" value="0"/>
													  <Parameter name="Smoother" type="string" value="myBlockSmoother"/>
													  <Parameter name="CoarseSolver" type="string" value="myBlockDirectSolver"/>
													  <Parameter name="P" type="string" value="myBlockedPFact"/>
													  <Parameter name="R" type="string" value="myBlockedRFact"/>
													  <Parameter name="A" type="string" value="myBlockedRAPFact"/>
													</ParameterList>
												</ParameterList> <!-- end of Hierarchy -->

                      </ParameterList> <!--  end of MueLu Parameters -->
                    </ParameterList>
                </ParameterList>
            </ParameterList>
            
        </ParameterList>
    </ParameterList>
</ParameterList>
